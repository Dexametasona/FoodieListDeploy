"use strict";(self.webpackChunkproyecto=self.webpackChunkproyecto||[]).push([[412],{8412:(R,_,r)=>{r.r(_),r.d(_,{MyRecipesModule:()=>v});var s=r(6814),a=r(9310),g=r(527),u=r(3519),l=r.n(u),e=r(4946),m=r(574),f=r(3106),h=r(8556);let y=(()=>{class i{constructor(t,n){this.router=t,this.recipeServ=n,this.emitRecipe=new e.vpe,this.isCheck=!1,this.showDropdown=!1}deleteRecipe(t){this.recipeServ.deleteRecipeById(t).subscribe({next:()=>{l().fire({title:"Borrado exitoso",icon:"success"})}})}toDetail(){this.router.navigate(["recipes/recipe-details"])}toEdit(){this.router.navigate(["editrecipe"])}toggleDropdown(){this.showDropdown=!this.showDropdown,console.log("showDropdown",this.showDropdown)}sendRecipe(){this.isCheck=!this.isCheck;const t={...this.data,actions:this.isCheck?"add":"delete"};this.emitRecipe.emit(t)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(a.F0),e.Y36(m.j))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-my-recipe-card"]],inputs:{data:"data"},outputs:{emitRecipe:"emitRecipe"},decls:35,vars:5,consts:[[1,"card"],["src","/assets/icons/recipes-card.png","alt","recipes-card",1,"card__img"],[1,"card__body"],[1,"card__body--title"],[1,"card__body--quantity"],["clasS","card__body--quantity__content"],["type","button",1,"card__body--quantity__btn"],["src","/assets/icons/heart.svg","alt","heart",1,"card__body--quantity__actions"],[1,"dropdown"],["type","button",1,"card__body--quantity__btn","dropdown__button",3,"click"],["src","/assets/icons/dots-vertical.svg","alt","dots-vertical",1,"card__body--quantity__dots"],[1,"dropdown__menu",3,"ngClass"],[1,"dropdown__menu--item"],[1,"dropdown__menu--items","dropdown__button--item",3,"click"],[1,"dropdown__menu--items","dropdown__button--item"],[1,"card__body--mins"],["src","/assets/icons/clock.svg","alt","clock"],[1,"card__body--user"],[1,"card__body--user__info"],["src","/assets/icons/avatar.svg","alt","user"],["type","button",1,"card__body--btn",3,"click"],[1,"card__check",3,"click"],["alt","check-icon",3,"src"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"div",2)(3,"div",3)(4,"h4"),e._uU(5),e.qZA(),e.TgZ(6,"div",4)(7,"div",5)(8,"button",6),e._UZ(9,"img",7),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.qZA()(),e.TgZ(12,"div",8)(13,"button",9),e.NdJ("click",function(){return o.toggleDropdown()}),e._UZ(14,"img",10),e.qZA(),e.TgZ(15,"ul",11)(16,"li",12)(17,"a",13),e.NdJ("click",function(){return o.deleteRecipe(o.data.id)}),e._uU(18," Eliminar "),e.qZA()(),e.TgZ(19,"li",12)(20,"a",14),e._uU(21," Editar "),e.qZA()()()()()(),e.TgZ(22,"div",15),e._UZ(23,"img",16),e.TgZ(24,"span"),e._uU(25,"30 min"),e.qZA()(),e.TgZ(26,"div",17)(27,"div",18),e._UZ(28,"img",19),e.TgZ(29,"span"),e._uU(30),e.qZA()(),e.TgZ(31,"button",20),e.NdJ("click",function(){return o.toDetail()}),e._uU(32," Preparaci\xf3n "),e.qZA()()(),e.TgZ(33,"div",21),e.NdJ("click",function(){return o.sendRecipe()}),e._UZ(34,"img",22),e.qZA()()),2&n&&(e.xp6(5),e.Oqu(o.data.receta.nombre),e.xp6(6),e.Oqu(o.data.receta.likes),e.xp6(4),e.Q6J("ngClass",o.showDropdown?"dropdown__active":""),e.xp6(15),e.Oqu(o.data.usuario.nombre),e.xp6(4),e.Q6J("src",o.isCheck?"assets/checked.svg":"assets/uncheck.svg",e.LSH))},dependencies:[s.mk],styles:[".card[_ngcontent-%COMP%]{border-radius:10px;border:1px solid #CDCDCD;position:relative}.card[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px -1px #00000080}.card__img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-top-right-radius:10px;border-top-left-radius:10px}.card__check[_ngcontent-%COMP%]{all:initial;position:absolute;top:.5rem;left:.5rem;cursor:pointer;transition:all ease-in-out .3s;border-radius:50%}.card__check[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}.card__check[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 3px 2px #00000080}.card__body[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.3125rem}.card__body--title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.3125rem;padding:.625rem .625rem 0}.card__body--title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:12px}@media screen and (min-width: 767px){.card__body--title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px}}.card__body--quantity[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.3125rem}.card__body--quantity__content[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.125rem}.card__body--quantity__content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:500;font-size:10px;color:#9e9ea7}@media screen and (min-width: 767px){.card__body--quantity__content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}}.card__body--quantity__actions[_ngcontent-%COMP%]{width:12px;height:12px}.card__body--quantity__btn[_ngcontent-%COMP%]{background-color:transparent;border:none;cursor:pointer}.card__body--quantity__dots[_ngcontent-%COMP%]{width:14px;height:14px}.card__body--mins[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:.25rem;padding:0 .625rem}.card__body--mins[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:10px;height:10px}@media screen and (min-width: 767px){.card__body--mins[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12px;height:12px}}.card__body--mins[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#afafaf;font-family:Poppins,sans-serif;font-size:10px}@media screen and (min-width: 767px){.card__body--mins[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}}.card__body--user[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 .625rem .625rem;margin-top:.75rem}@media screen and (min-width: 767px){.card__body--user[_ngcontent-%COMP%]{margin-top:.875rem}}@media screen and (min-width: 1023px){.card__body--user[_ngcontent-%COMP%]{margin-top:1.25rem}}.card__body--user__info[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:.3125rem}.card__body--user__info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px}.card__body--user__info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:10px}@media screen and (min-width: 767px){.card__body--user__info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}}.card__body--btn[_ngcontent-%COMP%]{border-radius:10px;background-color:#f4f8f9;border:none;color:#1f1f1f;text-align:center;font-family:Poppins,sans-serif;font-size:10px;font-weight:500;width:80px;height:25px;cursor:pointer}.dropdown[_ngcontent-%COMP%]{position:relative}.dropdown__menu[_ngcontent-%COMP%]{position:absolute;top:-85px;right:0;max-height:117px;min-width:128px;border-radius:8px;background-color:#fff;display:none;padding:10px;box-shadow:0 5px 30px #1b1f231a,0 0 1px #1b1f2366,0 1px 2px #1b1f2326;z-index:2;animation:fadeIn .2s ease-in-out}.dropdown__menu--item[_ngcontent-%COMP%]{margin-bottom:.5rem;border-radius:4px}.dropdown__menu--item[_ngcontent-%COMP%]:hover{background-color:#f4f8f9;color:#1f1f1f}.dropdown__menu--item[_ngcontent-%COMP%]:nth-child(2){margin-bottom:0}.dropdown__menu--items[_ngcontent-%COMP%]{display:flex;gap:1rem;font-size:.875rem;font-family:Poppins,sans-serif;width:100%;cursor:pointer;color:#0b0b0b;padding:5px}.dropdown[_ngcontent-%COMP%]   .dropdown__button--item[_ngcontent-%COMP%]{background-color:transparent;border:none;font-size:.875rem}.dropdown__active[_ngcontent-%COMP%]{display:block}"]})}return i})(),C=(()=>{class i{transform(t,n,o){return t&&n?(n=n.toLocaleLowerCase(),"categoria"===o&&(o=""),t.filter(p=>(p.receta.nombre.toLocaleLowerCase().includes(n)||this.filterIngredients(p,n))&&p.receta.categoria.nombre.includes(o))):t}filterIngredients(t,n){return t.receta.ingredientes.some(o=>o.nombre.toLocaleLowerCase().includes(n))}static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275pipe=e.Yjl({name:"searchMyRecipe",type:i,pure:!0})}return i})();function b(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"app-my-recipe-card",9),e.NdJ("emitRecipe",function(o){e.CHM(t);const c=e.oxw(2);return e.KtG(c.receiveRecipes(o))}),e.qZA()}2&i&&e.Q6J("data",d.$implicit)}function x(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"section",2)(1,"app-search-box",3),e.NdJ("sendFilteredData",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.receiveFilters(o))}),e.qZA(),e.TgZ(2,"div",4)(3,"article",5),e.YNc(4,b,1,1,"app-my-recipe-card",6),e.ALo(5,"searchMyRecipe"),e.qZA(),e.TgZ(6,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createList())}),e._UZ(7,"img",8),e.TgZ(8,"span"),e._uU(9,"Generar"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("btnRedirection","crear receta")("sizeRecipes",t.myRecipes.length),e.xp6(2),e.Q6J("@scalingEffect",void 0),e.xp6(1),e.Q6J("ngForOf",e.Dn7(5,4,t.myRecipes,t.filters.searchText,t.filters.category))}}function M(i,d){1&i&&e._UZ(0,"app-loader")}const w=[{path:"",component:(()=>{class i{constructor(t,n){this.route=t,this.recipeServ=n,this.myRecipes=[],this.selectedRecipes=[],this.filters={category:"",searchText:""}}ngOnInit(){this.recipeServ.getAllRecipesById().subscribe({next:t=>{this.myRecipes=t.filter(n=>1==n.usuario.id)}})}createList(){if(0!==this.selectedRecipes.length){const t=JSON.stringify(this.selectedRecipes);this.route.navigate(["selectingredients",t])}else l().fire({title:"Error",text:"Debe seleccionar al menos una receta",icon:"warning"})}receiveFilters(t){this.filters=t,console.log(t)}receiveRecipes(t){"add"===t.actions?this.selectedRecipes.push(t):this.selectedRecipes=this.selectedRecipes.filter(n=>n.id!==t.id)}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(a.F0),e.Y36(m.j))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-my-recipes"]],decls:3,vars:2,consts:[["class","section",4,"ngIf","ngIfElse"],["loader",""],[1,"section"],[3,"btnRedirection","sizeRecipes","sendFilteredData"],[1,"recipe","container"],[1,"recipe__wrap"],[3,"data","emitRecipe",4,"ngFor","ngForOf"],["type","button",1,"createListBtn",3,"click"],["src","assets/list-icon.svg","alt","list-icon"],[3,"data","emitRecipe"]],template:function(n,o){if(1&n&&(e.YNc(0,x,10,8,"section",0),e.YNc(1,M,1,0,"ng-template",null,1,e.W1O)),2&n){const c=e.MAs(2);e.Q6J("ngIf",0!==o.myRecipes.length)("ngIfElse",c)}},dependencies:[s.sg,s.O5,f.B,h.R,y,C],styles:["[_nghost-%COMP%]{flex-grow:2}.section[_ngcontent-%COMP%]{padding:7rem 0 3rem}.recipe[_ngcontent-%COMP%]{margin-top:2rem}.recipe__wrap[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1.5rem}@media screen and (min-width: 420px){.recipe__wrap[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media screen and (min-width: 767px){.recipe__wrap[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media screen and (min-width: 1023px){.recipe__wrap[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}.createListBtn[_ngcontent-%COMP%]{position:fixed;bottom:1rem;right:1rem;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#f4f8f9;border-radius:50%;border:none;padding:1rem;color:#1f1f1f;cursor:pointer;box-shadow:0 1px 10px #0000004d;width:max-content;transition-duration:.3s;transition-property:opacity;animation:_ngcontent-%COMP%_up 3s infinite;transition-timing-function:ease-in-out}.createListBtn[_ngcontent-%COMP%]:hover{opacity:1}.createListBtn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.createListBtn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;font-family:Poppins,sans-serif}.scrollup[_ngcontent-%COMP%]{position:fixed;bottom:-30%;right:3rem;line-height:0;background-color:var(--container-color);box-shadow:0 1px 10px #0000004d;color:var(--first-color);font-size:2rem;width:max-content;padding:.4rem;border-radius:50%}@keyframes _ngcontent-%COMP%_up{0%{transform:translateY(0)}50%{transform:translateY(.45rem)}to{transform:translateY(0)}}"],data:{animation:[g.w9]}})}return i})()}];let O=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[a.Bz.forChild(w),a.Bz]})}return i})();var P=r(6208);let v=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[s.ez,O,P.m]})}return i})()}}]);