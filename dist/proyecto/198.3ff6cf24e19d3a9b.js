"use strict";(self.webpackChunkproyecto=self.webpackChunkproyecto||[]).push([[198],{198:(P,g,a)=>{a.r(g),a.d(g,{CreateRecipeModule:()=>Z});var p=a(6814),i=a(95),m=a(7276),u=a(3519),d=a.n(u),e=a(4946),f=a(574);function _(n,l){if(1&n&&(e.TgZ(0,"option",53),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",e.lcZ(2,2,t)," ")}}function C(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"div",54)(2,"button",55)(3,"img",56),e.NdJ("click",function(){const c=e.CHM(t).index,s=e.oxw();return e.KtG(s.borraIngrediente(c))}),e.qZA()(),e.TgZ(4,"span",57),e._uU(5),e.ALo(6,"titlecase"),e.qZA()(),e.TgZ(7,"p"),e._uU(8),e.qZA()()}if(2&n){const t=l.$implicit;e.xp6(5),e.hij(" ",e.lcZ(6,3,t.nombre),""),e.xp6(3),e.AsE("",t.cantidad," ",t.tipo_medida,"")}}function b(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"li",58)(1,"div",54)(2,"button",59),e.NdJ("click",function(){const c=e.CHM(t).index,s=e.oxw();return e.KtG(s.borrarProcedimiento(c))}),e._UZ(3,"img",60),e.qZA()(),e.TgZ(4,"p",61),e._uU(5),e.qZA()()}if(2&n){const t=l.$implicit;e.xp6(5),e.hij(" ",t," ")}}const h=[{path:"",component:(()=>{class n{constructor(t,o){this.fb=t,this.recipeServ=o,this.categories=[],this.ingredientes=[],this.listaProcedimientos=[]}ngOnInit(){this.infoRecipeForm=this.initInfoRecipeForm(),this.infoIngredientForm=this.initIngredientForm(),this.infoStepForm=this.fb.group({step:["",[i.kI.required,i.kI.minLength(5)]]}),this.loadCategories()}crearIngrediente(){this.infoIngredientForm.valid?(this.ingredientes.push(this.infoIngredientForm.value),this.infoIngredientForm.reset()):d().fire({icon:"question",title:"Ingrediente inv\xe1lido"})}crearProcedimientos(){if(this.infoStepForm.valid){const{step:t}=this.infoStepForm.value;this.listaProcedimientos.push(t),this.infoStepForm.reset()}else d().fire({icon:"question",title:"Paso inv\xe1lido"})}borraIngrediente(t){this.ingredientes.splice(t,1)}borrarProcedimiento(t){this.listaProcedimientos.splice(t,1)}crearReceta(){if(this.infoRecipeForm.valid&&this.ingredientes.length>0&&this.listaProcedimientos.length>0){const t=this.valueHardcodeCategory(this.infoRecipeForm.value.categoria),o={...this.infoRecipeForm.value,categoria:t,procedimientos:this.listaProcedimientos.join(".")};console.log(o),this.recipeServ.createRecipe(o).subscribe({next:r=>{this.ingredientes.map(s=>({...s,recetaId:r.id})).forEach(s=>{this.recipeServ.createIngredients(s).subscribe({next:()=>console.log("registro de ingrediente exitoso")})})}})}else d().fire({icon:"question",title:"Receta Inv\xe1lida"})}loadCategories(){this.recipeServ.getAllCategories().subscribe({next:t=>{this.categories=t.map(o=>o.nombre)}})}initInfoRecipeForm(){return this.fb.group({categoria:["8",[i.kI.required]],visible:[!1,[i.kI.required]],nombre:["",[i.kI.required,i.kI.minLength(5)]]})}initIngredientForm(){return this.fb.group({nombre:["",[i.kI.required,i.kI.minLength(2)]],cantidad:[0],tipo_medida:[""]})}valueHardcodeCategory(t){switch(t){case"postres":return 8;case"mariscos":return 11;case"guisos":return 10;case"pescados":return 9;default:return 0}}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(i.qu),e.Y36(f.j))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-recipe"]],decls:81,vars:6,consts:[[1,"section"],[1,"form"],[1,"primerosCampos",3,"formGroup"],[1,"etiqueta-esquina"],[1,"camposReceta"],[1,"nombreycategoria"],[1,"field","nombrereceta"],["for","nombreReceta",1,"label",2,"display","flex","justify-content","space-between"],["src","assets/icons/cup.svg"],["id","visible","name","visible","type","checkbox","formControlName","visible",1,"checkbox"],["id","nombreReceta","name","nombreReceta","type","text","formControlName","nombre","placeholder","Ingresa el t\xedtulo de la receta",1,"input"],[1,"field"],["for","urlImgReceta",1,"label"],["src","assets/icons/picture.svg"],["id","urlImgReceta","name","urlImgReceta","type","text","placeholder","Ingresa el enlace",1,"input"],[1,"porcionesycoccion"],[1,"field","porciones"],["for","porcionesReceta",1,"label"],["src","assets/icons/cookie.svg"],["id","porcionesReceta","name","porcionesReceta","type","number","placeholder","Ejm: 4",1,"input"],[1,"field","coccion"],["for","tiempoCocinado",1,"label"],["src","assets/icons/clock-2.svg"],["id","tiempoCocinado","name","tiempoCocinado","type","number","placeholder","Ejm: 30min",1,"input"],[1,"field","categoria"],["for","categoriaReceta",1,"label"],["src","assets/icons/tag.svg"],["id","categoriaReceta","name","categoriaReceta","type","text","formControlName","categoria",1,"select-con-borde"],["value","8","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"boton-flotante"],["type","submit",1,"btnCrearReceta",3,"click"],[1,"camposIngredientes",3,"formGroup"],[1,"ingredientesycantidad"],[1,"field","ingredientes"],["for","nuevoIngrediente",1,"label"],["src","/assets/icons/cup.svg"],["id","nuevoIngrediente","name","nuevoIngrediente","type","text","placeholder","Ingresa el nuevo ingrediente","formControlName","nombre",1,"input"],[1,"field","cantidad"],["for","cantidadIngrediente",1,"label"],["src","/assets/icons/cup-straw.svg"],["id","cantidadIngrediente","name","cantidadIngrediente","type","text","placeholder","Ingresa la cantidad","formControlName","cantidad",1,"input"],["id","tipoMedida","name","tipoMedida","type","text","placeholder","Ingresa la medida","formControlName","tipo_medida",1,"input"],["type","submit",3,"click"],[1,"listaIngredientes"],[4,"ngFor","ngForOf"],[1,"camposPreparacion",3,"formGroup"],[1,"field","preparacion"],["for","preparacionReceta",1,"label"],["src","../../../assets/icons/file-text.svg"],["id","preparacionReceta","name","preparacionReceta","type","text","cols","50","rows","4","formControlName","step","placeholder","Ingresa el procedimiento",1,"textarea"],[1,"listaPreparacion"],["class","boxItem",4,"ngFor","ngForOf"],[3,"value"],[1,"itemI"],[1,"btnDelete"],["src","assets/icon-delete.svg","alt","icono de borrar",3,"click"],[2,"margin-left","1rem"],[1,"boxItem"],[1,"btnDelete",3,"click"],["src","assets/icon-delete.svg","alt","icono de borrar"],[1,"procedimiento"]],template:function(o,r){1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"h2"),e._uU(3,"Crea tu receta"),e.qZA(),e.TgZ(4,"form",2)(5,"span",3),e._uU(6,"Informaci\xf3n"),e.qZA(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"label",7)(11,"span"),e._UZ(12,"img",8),e._uU(13," T\xedtulo de la receta"),e.qZA(),e.TgZ(14,"span"),e._UZ(15,"input",9),e._uU(16," Visible"),e.qZA()(),e._UZ(17,"input",10),e.qZA()(),e.TgZ(18,"div",11)(19,"label",12),e._UZ(20,"img",13),e._uU(21," Link de la imagen de la receta"),e.qZA(),e._UZ(22,"input",14),e.qZA(),e.TgZ(23,"div",15)(24,"div",16)(25,"label",17),e._UZ(26,"img",18),e._uU(27," Porciones"),e.qZA(),e._UZ(28,"input",19),e.qZA(),e.TgZ(29,"div",20)(30,"label",21),e._UZ(31,"img",22),e._uU(32," Tiempo de cocci\xf3n"),e.qZA(),e._UZ(33,"input",23),e.qZA(),e.TgZ(34,"div",24)(35,"label",25),e._UZ(36,"img",26),e._uU(37," Categoria"),e.qZA(),e.TgZ(38,"select",27)(39,"option",28),e._uU(40,"Selecciona un categoria"),e.qZA(),e.YNc(41,_,3,4,"option",29),e.qZA()()()(),e.TgZ(42,"div",30)(43,"button",31),e.NdJ("click",function(){return r.crearReceta()}),e._uU(44," CREAR "),e.qZA()()(),e.TgZ(45,"form",32)(46,"span",3),e._uU(47,"Ingredientes"),e.qZA(),e.TgZ(48,"div",33)(49,"div",34)(50,"label",35),e._UZ(51,"img",36),e._uU(52," Nuevo ingrediente"),e.qZA(),e._UZ(53,"input",37),e.qZA(),e.TgZ(54,"div",38)(55,"label",39),e._UZ(56,"img",40),e._uU(57," Cantidad"),e.qZA(),e._UZ(58,"input",41),e.qZA(),e.TgZ(59,"div",38)(60,"label",39),e._UZ(61,"img",40),e._uU(62," Medida "),e.qZA(),e._UZ(63,"input",42),e.qZA(),e.TgZ(64,"button",43),e.NdJ("click",function(){return r.crearIngrediente()}),e._uU(65," + a\xf1adir "),e.qZA()(),e.TgZ(66,"ul",44),e.YNc(67,C,9,5,"li",45),e.qZA()(),e.TgZ(68,"form",46)(69,"span",3),e._uU(70,"Preparaci\xf3n"),e.qZA(),e.TgZ(71,"div",47)(72,"label",48),e._UZ(73,"img",49),e._uU(74," Nuevo procedimiento"),e.qZA(),e._UZ(75,"textarea",50),e.qZA(),e.TgZ(76,"button",43),e.NdJ("click",function(){return r.crearProcedimientos()}),e._uU(77,"+ a\xf1adir"),e.qZA(),e._UZ(78,"br"),e.TgZ(79,"ol",51),e.YNc(80,b,6,1,"li",52),e.qZA()()()()),2&o&&(e.xp6(4),e.Q6J("formGroup",r.infoRecipeForm),e.xp6(37),e.Q6J("ngForOf",r.categories),e.xp6(4),e.Q6J("formGroup",r.infoIngredientForm),e.xp6(22),e.Q6J("ngForOf",r.ingredientes),e.xp6(1),e.Q6J("formGroup",r.infoStepForm),e.xp6(12),e.Q6J("ngForOf",r.listaProcedimientos))},dependencies:[p.sg,i._Y,i.YN,i.Kr,i.Fj,i.Wl,i.EJ,i.JJ,i.JL,i.sg,i.u,p.rS],styles:['@charset "UTF-8";[_nghost-%COMP%]{flex-grow:2;background:linear-gradient(to top,white 80%,transparent 50%),url(recipe-book.4d2c9dc5f69f43ab.png);background-size:contain;background-position:top center;background-repeat:no-repeat;background-color:#fff}.itemIngredient[_ngcontent-%COMP%]{list-style:none}.listaIngredientes[_ngcontent-%COMP%], .listaPreparacion[_ngcontent-%COMP%]{margin-top:2rem}.btnDelete[_ngcontent-%COMP%]{all:initial;border-radius:50%;cursor:pointer;transition:all ease-in-out .3s}.btnDelete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}.btnDelete[_ngcontent-%COMP%]:hover{box-shadow:0 2px 2px #0006;transform:translateY(-2px)}.section[_ngcontent-%COMP%]{padding:7rem 0 2rem;position:relative;z-index:2}.form[_ngcontent-%COMP%]{background-color:transparent}.form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:4rem;color:#fff}@media screen and (min-width: 1000px){.form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3rem}}.form[_ngcontent-%COMP%]   .primerosCampos[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .camposIngredientes[_ngcontent-%COMP%], .form[_ngcontent-%COMP%]   .camposPreparacion[_ngcontent-%COMP%]{background-color:#fff;position:relative;padding:1rem;margin:.2rem 0 1rem;border-radius:.5rem;border:1px solid #ccc}.etiqueta-esquina[_ngcontent-%COMP%]{position:absolute;background-color:#f29c5e;color:#fff;top:0;left:0;border:2px 0 1px;padding:1.5rem 2.5rem;border-bottom-right-radius:38px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], button[_ngcontent-%COMP%], .select-con-borde[_ngcontent-%COMP%]{border:2px solid #ccc;border-radius:5px;padding:10px;background-color:transparent}input[_ngcontent-%COMP%]{transition:border .3s ease-in-out}input[_ngcontent-%COMP%]:focus-within{border:solid #F29C5E 2px}label[_ngcontent-%COMP%]{color:#f29c5e;margin-top:1rem}label[_ngcontent-%COMP%]:not(:first-child){width:50%;flex-wrap:wrap}.nombrereceta[_ngcontent-%COMP%], .ingredientes[_ngcontent-%COMP%], .preparacion[_ngcontent-%COMP%]{margin-top:3rem}button[_ngcontent-%COMP%]{color:#f29c5e;cursor:pointer;margin-top:1rem;width:90px}.boton-flotante[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:999}.btnCrearReceta[_ngcontent-%COMP%]{background-color:#f29c5e;color:#fff;box-shadow:0 10px 15px -5px #000000bf;border:none;border-radius:50%;min-width:100px;min-height:100px}button[_ngcontent-%COMP%]:hover{transform:scale(1.05) translateY(-.2rem)}button[_ngcontent-%COMP%]:focus{outline:none}h2[_ngcontent-%COMP%]{display:flex;justify-content:center;text-align:center;margin-top:1rem;margin-bottom:2rem}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px;margin-bottom:1rem;margin-right:1rem}.itemI[_ngcontent-%COMP%]{display:flex;align-items:center}.procedimiento[_ngcontent-%COMP%]{text-align:justify}@media screen and (min-width: 990px){input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], .select-con-borde[_ngcontent-%COMP%]{width:auto}.btnCrearReceta[_ngcontent-%COMP%]{height:170px;width:130px}}@media screen and (min-width: 650px){[_nghost-%COMP%]{padding:2rem 10vw}.form[_ngcontent-%COMP%]{padding-inline:5vw}.primerosCampos[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.camposReceta[_ngcontent-%COMP%]{flex-grow:2}.btnCrearReceta[_ngcontent-%COMP%]{min-height:170px;width:180px;font-size:1.5rem}.porcionesycoccion[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;gap:10px;flex-wrap:wrap}.categoria[_ngcontent-%COMP%], .porciones[_ngcontent-%COMP%], .coccion[_ngcontent-%COMP%]{flex-grow:1}.camposIngredientes[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;gap:10px}.ingredientesycantidad[_ngcontent-%COMP%], .listaIngredientes[_ngcontent-%COMP%]{flex-grow:1}.listaPreparacion[_ngcontent-%COMP%]{margin-top:1rem}.listaPreparacion[_ngcontent-%COMP%]   .boxItem[_ngcontent-%COMP%]{justify-content:flex-start}}']})}return n})()}];let x=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(h),m.Bz]})}return n})(),Z=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[p.ez,i.UX,x]})}return n})()}}]);