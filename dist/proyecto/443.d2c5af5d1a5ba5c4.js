"use strict";(self.webpackChunkproyecto=self.webpackChunkproyecto||[]).push([[443],{3443:(M,g,s)=>{s.r(g),s.d(g,{SelectIngredientsModule:()=>b});var l=s(6814),d=s(9310),p=s(527),m=s(3519),u=s.n(m),e=s(4946),o=s(95);let h=(()=>{class i{constructor(){this.emitIngredient=new e.vpe}sendIngredient(){const{isCheck:n}=this.ingredientCheck,t={...this.ingredientCheck,isCheck:!n};this.emitIngredient.emit(t)}static#e=this.\u0275fac=function(t){return new(t||i)};static#n=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-item-list"]],inputs:{ingredientCheck:"ingredientCheck"},outputs:{emitIngredient:"emitIngredient"},decls:6,vars:3,consts:[[3,"click"],["alt","checkbox-icon",1,"item__icon",3,"src"],[1,"item__ingredient"],[1,"item__weight"]],template:function(t,r){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return r.sendIngredient()}),e._UZ(1,"img",1),e.qZA(),e.TgZ(2,"p",2),e._uU(3),e.qZA(),e.TgZ(4,"span",3),e._uU(5),e.qZA()),2&t&&(e.xp6(1),e.Q6J("src",r.ingredientCheck.isCheck?"assets/checkbox-true.svg":"assets/checkbox-false.svg",e.LSH),e.xp6(2),e.Oqu(r.ingredientCheck.nombre),e.xp6(2),e.Oqu(r.ingredientCheck.cantidad+" "+r.ingredientCheck.tipo_medida))},styles:["[_nghost-%COMP%]{display:flex;align-items:center;background-color:#ffffff80;margin-bottom:.5rem;padding:.25rem;border-radius:.5rem;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);transition:all ease-in-out .3s}[_nghost-%COMP%]:hover{background-color:#fff}.item__ingredient[_ngcontent-%COMP%]{flex-grow:2}button[_ngcontent-%COMP%]{all:initial;cursor:pointer}"]})}return i})();function f(i,a){if(1&i&&(e.TgZ(0,"option",10),e._uU(1),e.qZA()),2&i){const n=a.$implicit;e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.receta.nombre)}}function C(i,a){if(1&i){const n=e.EpF();e.TgZ(0,"app-item-list",11),e.NdJ("emitIngredient",function(r){e.CHM(n);const c=e.oxw();return e.KtG(c.receiveIngredients(r))}),e.qZA()}2&i&&e.Q6J("ingredientCheck",a.$implicit)}const _=[{path:"",component:(()=>{class i{constructor(n,t){this.router=n,this.routeConfig=t,this.recipes=[],this.formatRecipe=[],this.selectedRecipe=0,this.selectedIngredients=[]}toIngredients(){if(0!==this.selectedIngredients.length){const n=JSON.stringify({ingredients:[...new Set(this.selectedIngredients)],recipes:[...this.formatRecipe.map(t=>t.name)]});this.router.navigate(["createlist",n])}else u().fire({title:"Error",text:"Debe seleccionar al menos un ingrediente.",icon:"warning"})}ngOnInit(){this.recipes=JSON.parse(this.routeConfig.snapshot.params.data),this.formatRecipe=this.recipes.map(n=>{const t=n.receta.ingredientes.map(r=>({...r,isCheck:!0}));return{id:n.id,name:n.receta.nombre,ingredients:t}}),this.selectedRecipe=this.recipes[0].id,this.currentRecipe=this.formatRecipe[0],this.selectedIngredients=this.formatRecipe.flatMap(n=>n.ingredients.map(t=>t.nombre))}changeCurrentRecipe(){const n=Number(this.selectedRecipe);this.currentRecipe=this.formatRecipe.find(t=>t.id===n)}receiveIngredients(n){const t=this.findIngredientIdIntoCurrentRecipe(n.id);-1!==t?(this.findAndReplaceIngredientCheckIntoRecipes(t,n),this.addOrFindAndDeleteIngredients(n)):console.log("no se encontro el elemento:",n)}findIngredientIdIntoCurrentRecipe(n){return this.currentRecipe.ingredients.findIndex(r=>r.id===n)}findAndReplaceIngredientCheckIntoRecipes(n,t){this.formatRecipe.find(r=>r.id===Number(this.selectedRecipe)).ingredients.splice(n,1,t)}addOrFindAndDeleteIngredients(n){if(n.isCheck)this.selectedIngredients.push(n.nombre);else{const t=this.selectedIngredients.findIndex(r=>r===n.nombre);this.selectedIngredients.splice(t,1)}}static#e=this.\u0275fac=function(t){return new(t||i)(e.Y36(d.F0),e.Y36(d.gz))};static#n=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-select-ingredients"]],decls:17,vars:4,consts:[[1,"container"],[1,"recipes"],[1,"recipes__dropdown"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"list"],[3,"ingredientCheck","emitIngredient",4,"ngFor","ngForOf"],[1,"actions"],["src","assets/tableWallpaper.jpg","alt","recipe-picture"],["type","button",3,"click"],[3,"value"],[3,"ingredientCheck","emitIngredient"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3,"Selecciona los ingredientes"),e.qZA(),e.TgZ(4,"div",2)(5,"span"),e._uU(6,"Recetas:"),e.qZA(),e.TgZ(7,"select",3),e.NdJ("ngModelChange",function(O){return r.selectedRecipe=O})("ngModelChange",function(){return r.changeCurrentRecipe()}),e.YNc(8,f,2,2,"option",4),e.qZA()()(),e.TgZ(9,"div",5),e.YNc(10,C,1,1,"app-item-list",6),e.qZA(),e.TgZ(11,"div",7),e._UZ(12,"img",8),e.TgZ(13,"p"),e._uU(14,"Revisaste todas las listas? pincha aqu\xed para general la lista total de ingredientes."),e.qZA(),e.TgZ(15,"button",9),e.NdJ("click",function(){return r.toIngredients()}),e._uU(16,"Generar Lista"),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("ngModel",r.selectedRecipe),e.xp6(1),e.Q6J("ngForOf",r.recipes),e.xp6(1),e.Q6J("@scalingEffect",void 0),e.xp6(1),e.Q6J("ngForOf",r.currentRecipe.ingredients))},dependencies:[l.sg,o.YN,o.Kr,o.EJ,o.JJ,o.On,h],styles:["[_nghost-%COMP%]{flex-grow:2;padding-top:7rem}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background:linear-gradient(rgba(255,255,255,.3),rgba(255,255,255,.3)),url(/assets/foodhero5.webp);background-position:right top;background-size:cover}.recipes[_ngcontent-%COMP%]{margin-block:1rem;background-color:#ffffff80;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border-radius:1rem;padding:1rem}.recipes[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:1rem}.recipes__dropdown[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.recipes__dropdown[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:1rem;background-color:#678c30;padding:1rem .5rem;color:#fff}.recipes__dropdown[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:solid 2px #F4F8F9}@media screen and (min-width: 550px){.recipes[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;min-width:100%}.recipes[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0}}.list[_ngcontent-%COMP%]{padding-inline:.5rem;min-width:min(100%,350px);margin-bottom:1rem}.actions[_ngcontent-%COMP%]{padding-inline:1rem;line-height:1.2rem;text-align:center}.actions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.5rem}.actions[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;outline:none;border:none;background-color:#678c30;color:#f4f8f9;box-shadow:0 10px 15px -5px #000000bf;border-radius:1rem;padding-block:.5rem;margin-bottom:1rem;cursor:pointer}@media screen and (min-width: 750px){[_nghost-%COMP%]{padding-inline:10vw}.container[_ngcontent-%COMP%]{padding:1rem;border-radius:.5rem}}@media screen and (min-width: 1000px){.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(10,1fr);align-items:flex-start}.container[_ngcontent-%COMP%]   .recipes[_ngcontent-%COMP%]{grid-column:span 10}.container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{grid-column:span 6;display:grid;grid-template-columns:1fr 1fr;column-gap:.5rem}.container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{grid-column:span 4}.container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;aspect-ratio:16/9}}"],data:{animation:[p.w9]}})}return i})()}];let I=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#n=this.\u0275mod=e.oAB({type:i});static#t=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(_),d.Bz]})}return i})(),b=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#n=this.\u0275mod=e.oAB({type:i});static#t=this.\u0275inj=e.cJS({imports:[l.ez,I,o.u5]})}return i})()}}]);